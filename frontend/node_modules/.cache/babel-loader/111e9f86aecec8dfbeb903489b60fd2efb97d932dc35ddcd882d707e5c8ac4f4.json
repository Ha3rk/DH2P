{"ast":null,"code":"import axios from \"axios\";\nimport { ADD_TO_CART, EMPTY_CART, REMOVE_FROM_CART, SAVE_SHIPPING_INFO } from \"../constants/cartConstants\";\n\n// add to cart\nexport const addItemsToCart = function (id) {\n  let quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  return async (dispatch, getState) => {\n    const {\n      data\n    } = await axios.get(`/api/v1/product/${id}`);\n    dispatch({\n      type: ADD_TO_CART,\n      payload: {\n        product: data.product._id,\n        name: data.product.name,\n        seller: data.product.brand.name,\n        price: data.product.price,\n        cuttedPrice: data.product.cuttedPrice,\n        image: data.product.images[0].url,\n        stock: data.product.stock,\n        quantity\n      }\n    });\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n  };\n};\n\n// remove cart item\nexport const removeItemsFromCart = id => async (dispatch, getState) => {\n  dispatch({\n    type: REMOVE_FROM_CART,\n    payload: id\n  });\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n};\n\n// empty cart\nexport const emptyCart = () => async (dispatch, getState) => {\n  dispatch({\n    type: EMPTY_CART\n  });\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\n};\n\n// save shipping info\nexport const saveShippingInfo = data => async dispatch => {\n  dispatch({\n    type: SAVE_SHIPPING_INFO,\n    payload: data\n  });\n  localStorage.setItem('shippingInfo', JSON.stringify(data));\n};","map":{"version":3,"names":["axios","ADD_TO_CART","EMPTY_CART","REMOVE_FROM_CART","SAVE_SHIPPING_INFO","addItemsToCart","id","quantity","arguments","length","undefined","dispatch","getState","data","get","type","payload","product","_id","name","seller","brand","price","cuttedPrice","image","images","url","stock","localStorage","setItem","JSON","stringify","cart","cartItems","removeItemsFromCart","emptyCart","saveShippingInfo"],"sources":["C:/Users/User/Downloads/E-web/frontend/src/actions/cartAction.js"],"sourcesContent":["import axios from \"axios\"\nimport { ADD_TO_CART, EMPTY_CART, REMOVE_FROM_CART, SAVE_SHIPPING_INFO } from \"../constants/cartConstants\";\n\n// add to cart\nexport const addItemsToCart = (id, quantity = 1) => async (dispatch, getState) => {\n    const { data } = await axios.get(`/api/v1/product/${id}`);\n\n    dispatch({\n        type: ADD_TO_CART,\n        payload: {\n            product: data.product._id,\n            name: data.product.name,\n            seller: data.product.brand.name,\n            price: data.product.price,\n            cuttedPrice: data.product.cuttedPrice,\n            image: data.product.images[0].url,\n            stock: data.product.stock,\n            quantity,\n        },\n    });\n\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\n}\n\n// remove cart item\nexport const removeItemsFromCart = (id) => async (dispatch, getState) => {\n\n    dispatch({\n        type: REMOVE_FROM_CART,\n        payload: id,\n    });\n\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\n}\n\n// empty cart\nexport const emptyCart = () => async (dispatch, getState) => {\n\n    dispatch({ type: EMPTY_CART });\n\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\n}\n\n// save shipping info\nexport const saveShippingInfo = (data) => async (dispatch) => {\n\n    dispatch({\n        type: SAVE_SHIPPING_INFO,\n        payload: data,\n    });\n\n    localStorage.setItem('shippingInfo', JSON.stringify(data));\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,UAAU,EAAEC,gBAAgB,EAAEC,kBAAkB,QAAQ,4BAA4B;;AAE1G;AACA,OAAO,MAAMC,cAAc,GAAG,SAAAA,CAACC,EAAE;EAAA,IAAEC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC;EAAA,OAAK,OAAOG,QAAQ,EAAEC,QAAQ,KAAK;IAC9E,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMb,KAAK,CAACc,GAAG,CAAE,mBAAkBR,EAAG,EAAC,CAAC;IAEzDK,QAAQ,CAAC;MACLI,IAAI,EAAEd,WAAW;MACjBe,OAAO,EAAE;QACLC,OAAO,EAAEJ,IAAI,CAACI,OAAO,CAACC,GAAG;QACzBC,IAAI,EAAEN,IAAI,CAACI,OAAO,CAACE,IAAI;QACvBC,MAAM,EAAEP,IAAI,CAACI,OAAO,CAACI,KAAK,CAACF,IAAI;QAC/BG,KAAK,EAAET,IAAI,CAACI,OAAO,CAACK,KAAK;QACzBC,WAAW,EAAEV,IAAI,CAACI,OAAO,CAACM,WAAW;QACrCC,KAAK,EAAEX,IAAI,CAACI,OAAO,CAACQ,MAAM,CAAC,CAAC,CAAC,CAACC,GAAG;QACjCC,KAAK,EAAEd,IAAI,CAACI,OAAO,CAACU,KAAK;QACzBpB;MACJ;IACJ,CAAC,CAAC;IAEFqB,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACnB,QAAQ,EAAE,CAACoB,IAAI,CAACC,SAAS,CAAC,CAAC;EAChF,CAAC;AAAA;;AAED;AACA,OAAO,MAAMC,mBAAmB,GAAI5B,EAAE,IAAK,OAAOK,QAAQ,EAAEC,QAAQ,KAAK;EAErED,QAAQ,CAAC;IACLI,IAAI,EAAEZ,gBAAgB;IACtBa,OAAO,EAAEV;EACb,CAAC,CAAC;EAEFsB,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACnB,QAAQ,EAAE,CAACoB,IAAI,CAACC,SAAS,CAAC,CAAC;AAChF,CAAC;;AAED;AACA,OAAO,MAAME,SAAS,GAAGA,CAAA,KAAM,OAAOxB,QAAQ,EAAEC,QAAQ,KAAK;EAEzDD,QAAQ,CAAC;IAAEI,IAAI,EAAEb;EAAW,CAAC,CAAC;EAE9B0B,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACnB,QAAQ,EAAE,CAACoB,IAAI,CAACC,SAAS,CAAC,CAAC;AAChF,CAAC;;AAED;AACA,OAAO,MAAMG,gBAAgB,GAAIvB,IAAI,IAAK,MAAOF,QAAQ,IAAK;EAE1DA,QAAQ,CAAC;IACLI,IAAI,EAAEX,kBAAkB;IACxBY,OAAO,EAAEH;EACb,CAAC,CAAC;EAEFe,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEC,IAAI,CAACC,SAAS,CAAClB,IAAI,CAAC,CAAC;AAC9D,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}