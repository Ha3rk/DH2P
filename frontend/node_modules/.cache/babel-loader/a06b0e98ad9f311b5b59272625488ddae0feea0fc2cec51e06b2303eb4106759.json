{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\E-web\\\\frontend\\\\src\\\\components\\\\Admin\\\\ReviewsTable.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSnackbar } from 'notistack';\nimport { clearErrors, deleteReview, getAllReviews } from '../../actions/productAction';\nimport Rating from '@mui/material/Rating';\nimport Actions from './Actions';\nimport { DELETE_REVIEW_RESET } from '../../constants/productConstants';\nimport MetaData from '../Layouts/MetaData';\nimport BackdropLoader from '../Layouts/BackdropLoader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ReviewsTable = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const [productId, setProductId] = useState(\"\");\n  const {\n    reviews,\n    error\n  } = useSelector(state => state.reviews);\n  const {\n    loading,\n    isDeleted,\n    error: deleteError\n  } = useSelector(state => state.review);\n  useEffect(() => {\n    if (productId.length === 24) {\n      dispatch(getAllReviews(productId));\n    }\n    if (error) {\n      enqueueSnackbar(error, {\n        variant: \"error\"\n      });\n      dispatch(clearErrors());\n    }\n    if (deleteError) {\n      enqueueSnackbar(deleteError, {\n        variant: \"error\"\n      });\n      dispatch(clearErrors());\n    }\n    if (isDeleted) {\n      enqueueSnackbar(\"Review Deleted Successfully\", {\n        variant: \"success\"\n      });\n      dispatch({\n        type: DELETE_REVIEW_RESET\n      });\n    }\n  }, [dispatch, error, deleteError, isDeleted, productId, enqueueSnackbar]);\n  const deleteReviewHandler = id => {\n    dispatch(deleteReview(id, productId));\n  };\n  const columns = [{\n    field: \"id\",\n    headerName: \"Review ID\",\n    minWidth: 200,\n    flex: 0.5\n  }, {\n    field: \"user\",\n    headerName: \"User\",\n    minWidth: 150,\n    flex: 0.5\n  }, {\n    field: \"rating\",\n    headerName: \"Rating\",\n    type: \"number\",\n    minWidth: 200,\n    flex: 0.3,\n    align: \"left\",\n    headerAlign: \"left\",\n    renderCell: params => {\n      return /*#__PURE__*/_jsxDEV(Rating, {\n        readOnly: true,\n        value: params.row.rating,\n        size: \"small\",\n        precision: 0.5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 24\n      }, this);\n    }\n  }, {\n    field: \"comment\",\n    headerName: \"Comment\",\n    minWidth: 200,\n    flex: 0.5\n  }, {\n    field: \"actions\",\n    headerName: \"Actions\",\n    minWidth: 150,\n    flex: 0.3,\n    type: \"number\",\n    sortable: false,\n    renderCell: params => {\n      return /*#__PURE__*/_jsxDEV(Actions, {\n        editRoute: \"review\",\n        deleteHandler: deleteReviewHandler,\n        id: params.row.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this);\n    }\n  }];\n  const rows = [];\n  reviews && reviews.forEach(rev => {\n    rows.push({\n      id: rev._id,\n      rating: rev.rating,\n      comment: rev.comment,\n      user: rev.name\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(MetaData, {\n      title: \"Admin Reviews | Flipkart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(BackdropLoader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center gap-2 sm:gap-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-lg font-medium uppercase\",\n        children: \"reviews\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Product ID\",\n        value: productId,\n        onChange: e => setProductId(e.target.value),\n        className: \"outline-none border-0 rounded p-2 w-full shadow hover:shadow-lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-xl shadow-lg w-full\",\n      style: {\n        height: 450\n      },\n      children: /*#__PURE__*/_jsxDEV(DataGrid, {\n        rows: rows,\n        columns: columns,\n        pageSize: 10,\n        disableSelectIconOnClick: true,\n        sx: {\n          boxShadow: 0,\n          border: 0\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(ReviewsTable, \"Aa9Wa1T6MwHbpVBQLZ+cAbtMrvE=\", false, function () {\n  return [useDispatch, useSnackbar, useSelector, useSelector];\n});\n_c = ReviewsTable;\nexport default ReviewsTable;\nvar _c;\n$RefreshReg$(_c, \"ReviewsTable\");","map":{"version":3,"names":["useEffect","useState","DataGrid","useDispatch","useSelector","useSnackbar","clearErrors","deleteReview","getAllReviews","Rating","Actions","DELETE_REVIEW_RESET","MetaData","BackdropLoader","jsxDEV","_jsxDEV","Fragment","_Fragment","ReviewsTable","_s","dispatch","enqueueSnackbar","productId","setProductId","reviews","error","state","loading","isDeleted","deleteError","review","length","variant","type","deleteReviewHandler","id","columns","field","headerName","minWidth","flex","align","headerAlign","renderCell","params","readOnly","value","row","rating","size","precision","fileName","_jsxFileName","lineNumber","columnNumber","sortable","editRoute","deleteHandler","rows","forEach","rev","push","_id","comment","user","name","children","title","className","placeholder","onChange","e","target","style","height","pageSize","disableSelectIconOnClick","sx","boxShadow","border","_c","$RefreshReg$"],"sources":["C:/Users/User/Downloads/E-web/frontend/src/components/Admin/ReviewsTable.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { DataGrid } from '@mui/x-data-grid';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSnackbar } from 'notistack';\nimport { clearErrors, deleteReview, getAllReviews } from '../../actions/productAction';\nimport Rating from '@mui/material/Rating';\nimport Actions from './Actions';\nimport { DELETE_REVIEW_RESET } from '../../constants/productConstants';\nimport MetaData from '../Layouts/MetaData';\nimport BackdropLoader from '../Layouts/BackdropLoader';\n\nconst ReviewsTable = () => {\n\n    const dispatch = useDispatch();\n    const { enqueueSnackbar } = useSnackbar();\n    const [productId, setProductId] = useState(\"\");\n\n    const { reviews, error } = useSelector((state) => state.reviews);\n    const { loading, isDeleted, error: deleteError } = useSelector((state) => state.review);\n\n    useEffect(() => {\n        if (productId.length === 24) {\n            dispatch(getAllReviews(productId));\n        }\n        if (error) {\n            enqueueSnackbar(error, { variant: \"error\" });\n            dispatch(clearErrors());\n        }\n        if (deleteError) {\n            enqueueSnackbar(deleteError, { variant: \"error\" });\n            dispatch(clearErrors());\n        }\n        if (isDeleted) {\n            enqueueSnackbar(\"Review Deleted Successfully\", { variant: \"success\" });\n            dispatch({ type: DELETE_REVIEW_RESET });\n        }\n    }, [dispatch, error, deleteError, isDeleted, productId, enqueueSnackbar]);\n\n    const deleteReviewHandler = (id) => {\n        dispatch(deleteReview(id, productId));\n    }\n\n    const columns = [\n        {\n            field: \"id\",\n            headerName: \"Review ID\",\n            minWidth: 200,\n            flex: 0.5,\n        },\n        {\n            field: \"user\",\n            headerName: \"User\",\n            minWidth: 150,\n            flex: 0.5,\n        },\n        {\n            field: \"rating\",\n            headerName: \"Rating\",\n            type: \"number\",\n            minWidth: 200,\n            flex: 0.3,\n            align: \"left\",\n            headerAlign: \"left\",\n            renderCell: (params) => {\n                return <Rating readOnly value={params.row.rating} size=\"small\" precision={0.5} />\n            }\n        },\n        {\n            field: \"comment\",\n            headerName: \"Comment\",\n            minWidth: 200,\n            flex: 0.5,\n        },\n        {\n            field: \"actions\",\n            headerName: \"Actions\",\n            minWidth: 150,\n            flex: 0.3,\n            type: \"number\",\n            sortable: false,\n            renderCell: (params) => {\n                return (\n                    <Actions editRoute={\"review\"} deleteHandler={deleteReviewHandler} id={params.row.id} />\n                );\n            },\n        },\n    ];\n\n    const rows = [];\n\n    reviews && reviews.forEach((rev) => {\n        rows.push({\n            id: rev._id,\n            rating: rev.rating,\n            comment: rev.comment,\n            user: rev.name,\n        });\n    });\n\n    return (\n        <>\n            <MetaData title=\"Admin Reviews | Flipkart\" />\n\n            {loading && <BackdropLoader />}\n            <div className=\"flex justify-between items-center gap-2 sm:gap-12\">\n                <h1 className=\"text-lg font-medium uppercase\">reviews</h1>\n                <input type=\"text\" placeholder=\"Product ID\" value={productId} onChange={(e) => setProductId(e.target.value)} className=\"outline-none border-0 rounded p-2 w-full shadow hover:shadow-lg\" />\n            </div>\n            <div className=\"bg-white rounded-xl shadow-lg w-full\" style={{ height: 450 }}>\n\n                <DataGrid\n                    rows={rows}\n                    columns={columns}\n                    pageSize={10}\n                    disableSelectIconOnClick\n                    sx={{\n                        boxShadow: 0,\n                        border: 0,\n                    }}\n                />\n            </div>\n        </>\n    );\n};\n\nexport default ReviewsTable;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}